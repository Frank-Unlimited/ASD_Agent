INFO:     Will watch for changes in these directories: ['/Users/chenyx/private/hackthon/ASD_Agent']
INFO:     Uvicorn running on http://0.0.0.0:7860 (Press CTRL+C to quit)
INFO:     Started reloader process [48744] using WatchFiles
[Container] 开始初始化服务...
[SQLite] 数据库表创建成功: ./data/asd_intervention.db
[Container] ✅ SQLite 服务已注册
[Container] ✅ 文件上传服务已注册
[LLM Service] 初始化成功
  - Model: deepseek-chat
  - Base URL: https://api.deepseek.com/v1
[Container] ✅ LLM 服务已注册: deepseek-chat
[Container] ✅ 行为观察服务已注册（Memory 延迟初始化）
[Container] ✅ 游戏推荐服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 游戏总结服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 评估服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 核心服务初始化完成
INFO:     Started server process [48791]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2026-02-02 14:45:47,563 - watchfiles.main - INFO - 4 changes detected
2026-02-02 14:46:24,924 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:46:26,043 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:47:37,118 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:47:38,227 - watchfiles.main - INFO - 3 changes detected
[Container] 开始初始化服务...
[SQLite] 数据库表创建成功: ./data/asd_intervention.db
[Container] ✅ SQLite 服务已注册
[Container] ✅ 文件上传服务已注册
[LLM Service] 初始化成功
  - Model: deepseek-chat
  - Base URL: https://api.deepseek.com/v1
[Container] ✅ LLM 服务已注册: deepseek-chat
[Container] ✅ 行为观察服务已注册（Memory 延迟初始化）
[Container] ✅ 游戏推荐服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 游戏总结服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 评估服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 核心服务初始化完成
[Container] 开始初始化服务...
[SQLite] 数据库表创建成功: ./data/asd_intervention.db
[Container] ✅ SQLite 服务已注册
[Container] ✅ 文件上传服务已注册
[Container] ✅ LLM 服务已注册: deepseek-chat
[Container] ✅ 行为观察服务已注册（Memory 延迟初始化）
[Container] ✅ 游戏推荐服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 游戏总结服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 评估服务已注册（Memory 需要在 API 层初始化）
[Container] ✅ 核心服务初始化完成
INFO:     127.0.0.1:58523 - "GET /api/profile/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58526 - "GET /api/profile/ HTTP/1.1" 200 OK
2026-02-02 14:49:15,569 - watchfiles.main - INFO - 4 changes detected
INFO:     127.0.0.1:58582 - "GET /api/profile/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58584 - "GET /api/profile/ HTTP/1.1" 200 OK
2026-02-02 14:49:17,726 - watchfiles.main - INFO - 4 changes detected
INFO:     127.0.0.1:58584 - "GET /api/profile/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58582 - "GET /api/profile/ HTTP/1.1" 200 OK
2026-02-02 14:49:18,563 - watchfiles.main - INFO - 4 changes detected
2026-02-02 14:49:23,592 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT person_id_unique IF NOT EXISTS FOR (e:Person) REQUIRE (e.person_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT person_id_unique FOR (e:Person) REQUIRE (e.person_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT person_id_unique IF NOT EXISTS FOR (p:Person) REQUIRE p.person_id IS UNIQUE'
2026-02-02 14:49:23,594 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT behavior_id_unique IF NOT EXISTS FOR (e:Behavior) REQUIRE (e.behavior_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT behavior_id_unique FOR (e:Behavior) REQUIRE (e.behavior_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT behavior_id_unique IF NOT EXISTS FOR (b:Behavior) REQUIRE b.behavior_id IS UNIQUE'
2026-02-02 14:49:23,596 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT object_id_unique IF NOT EXISTS FOR (e:Object) REQUIRE (e.object_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT object_id_unique FOR (e:Object) REQUIRE (e.object_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT object_id_unique IF NOT EXISTS FOR (o:Object) REQUIRE o.object_id IS UNIQUE'
2026-02-02 14:49:23,597 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT interest_id_unique IF NOT EXISTS FOR (e:InterestDimension) REQUIRE (e.interest_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT interest_id_unique FOR (e:InterestDimension) REQUIRE (e.interest_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT interest_id_unique IF NOT EXISTS FOR (i:InterestDimension) REQUIRE i.interest_id IS UNIQUE'
2026-02-02 14:49:23,598 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT function_id_unique IF NOT EXISTS FOR (e:FunctionDimension) REQUIRE (e.function_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT function_id_unique FOR (e:FunctionDimension) REQUIRE (e.function_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT function_id_unique IF NOT EXISTS FOR (f:FunctionDimension) REQUIRE f.function_id IS UNIQUE'
2026-02-02 14:49:23,599 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT game_id_unique IF NOT EXISTS FOR (e:FloorTimeGame) REQUIRE (e.game_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT game_id_unique FOR (e:FloorTimeGame) REQUIRE (e.game_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT game_id_unique IF NOT EXISTS FOR (g:FloorTimeGame) REQUIRE g.game_id IS UNIQUE'
2026-02-02 14:49:23,600 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE CONSTRAINT assessment_id_unique IF NOT EXISTS FOR (e:ChildAssessment) REQUIRE (e.assessment_id) IS UNIQUE' has no effect. The index or constraint specified by 'CONSTRAINT assessment_id_unique FOR (e:ChildAssessment) REQUIRE (e.assessment_id) IS UNIQUE' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE CONSTRAINT assessment_id_unique IF NOT EXISTS FOR (a:ChildAssessment) REQUIRE a.assessment_id IS UNIQUE'
2026-02-02 14:49:23,602 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX person_type_index IF NOT EXISTS FOR (e:Person) ON (e.person_type)' has no effect. The index or constraint specified by 'RANGE INDEX person_type_index FOR (e:Person) ON (e.person_type)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX person_type_index IF NOT EXISTS FOR (p:Person) ON (p.person_type)'
2026-02-02 14:49:23,604 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX behavior_child_index IF NOT EXISTS FOR (e:Behavior) ON (e.child_id)' has no effect. The index or constraint specified by 'RANGE INDEX behavior_child_index FOR (e:Behavior) ON (e.child_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX behavior_child_index IF NOT EXISTS FOR (b:Behavior) ON (b.child_id)'
2026-02-02 14:49:23,605 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX behavior_timestamp_index IF NOT EXISTS FOR (e:Behavior) ON (e.timestamp)' has no effect. The index or constraint specified by 'RANGE INDEX behavior_timestamp_index FOR (e:Behavior) ON (e.timestamp)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX behavior_timestamp_index IF NOT EXISTS FOR (b:Behavior) ON (b.timestamp)'
2026-02-02 14:49:23,606 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX behavior_significance_index IF NOT EXISTS FOR (e:Behavior) ON (e.significance)' has no effect. The index or constraint specified by 'RANGE INDEX behavior_significance_index FOR (e:Behavior) ON (e.significance)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX behavior_significance_index IF NOT EXISTS FOR (b:Behavior) ON (b.significance)'
2026-02-02 14:49:23,607 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX behavior_child_time_index IF NOT EXISTS FOR (e:Behavior) ON (e.child_id, e.timestamp)' has no effect. The index or constraint specified by 'RANGE INDEX behavior_child_time_index FOR (e:Behavior) ON (e.child_id, e.timestamp)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX behavior_child_time_index IF NOT EXISTS FOR (b:Behavior) ON (b.child_id, b.timestamp)'
2026-02-02 14:49:23,608 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX object_name_index IF NOT EXISTS FOR (e:Object) ON (e.name)' has no effect. The index or constraint specified by 'RANGE INDEX object_name_index FOR (e:Object) ON (e.name)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX object_name_index IF NOT EXISTS FOR (o:Object) ON (o.name)'
2026-02-02 14:49:23,609 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX interest_name_index IF NOT EXISTS FOR (e:InterestDimension) ON (e.name)' has no effect. The index or constraint specified by 'RANGE INDEX interest_name_index FOR (e:InterestDimension) ON (e.name)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX interest_name_index IF NOT EXISTS FOR (i:InterestDimension) ON (i.name)'
2026-02-02 14:49:23,610 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX function_name_index IF NOT EXISTS FOR (e:FunctionDimension) ON (e.name)' has no effect. The index or constraint specified by 'RANGE INDEX function_name_index FOR (e:FunctionDimension) ON (e.name)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX function_name_index IF NOT EXISTS FOR (f:FunctionDimension) ON (f.name)'
2026-02-02 14:49:23,612 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX function_category_index IF NOT EXISTS FOR (e:FunctionDimension) ON (e.category)' has no effect. The index or constraint specified by 'RANGE INDEX function_category_index FOR (e:FunctionDimension) ON (e.category)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX function_category_index IF NOT EXISTS FOR (f:FunctionDimension) ON (f.category)'
2026-02-02 14:49:23,613 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX game_child_index IF NOT EXISTS FOR (e:FloorTimeGame) ON (e.child_id)' has no effect. The index or constraint specified by 'RANGE INDEX game_child_index FOR (e:FloorTimeGame) ON (e.child_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX game_child_index IF NOT EXISTS FOR (g:FloorTimeGame) ON (g.child_id)'
2026-02-02 14:49:23,614 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX game_status_index IF NOT EXISTS FOR (e:FloorTimeGame) ON (e.status)' has no effect. The index or constraint specified by 'RANGE INDEX game_status_index FOR (e:FloorTimeGame) ON (e.status)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX game_status_index IF NOT EXISTS FOR (g:FloorTimeGame) ON (g.status)'
2026-02-02 14:49:23,615 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX assessment_child_index IF NOT EXISTS FOR (e:ChildAssessment) ON (e.child_id)' has no effect. The index or constraint specified by 'RANGE INDEX assessment_child_index FOR (e:ChildAssessment) ON (e.child_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX assessment_child_index IF NOT EXISTS FOR (a:ChildAssessment) ON (a.child_id)'
2026-02-02 14:49:23,617 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX assessment_timestamp_index IF NOT EXISTS FOR (e:ChildAssessment) ON (e.timestamp)' has no effect. The index or constraint specified by 'RANGE INDEX assessment_timestamp_index FOR (e:ChildAssessment) ON (e.timestamp)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX assessment_timestamp_index IF NOT EXISTS FOR (a:ChildAssessment) ON (a.timestamp)'
2026-02-02 14:49:23,752 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:49:24,245 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-02 14:49:26,093 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:49:27,258 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:49:42,040 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX has_episode_uuid IF NOT EXISTS FOR ()-[e:HAS_EPISODE]-() ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX has_episode_uuid FOR ()-[e:HAS_EPISODE]-() ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX has_episode_uuid IF NOT EXISTS FOR ()-[e:HAS_EPISODE]-() ON (e.uuid)'
2026-02-02 14:49:42,041 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX name_entity_index IF NOT EXISTS FOR (e:Entity) ON (e.name)' has no effect. The index or constraint specified by 'RANGE INDEX name_entity_index FOR (e:Entity) ON (e.name)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX name_entity_index IF NOT EXISTS FOR (n:Entity) ON (n.name)'
2026-02-02 14:49:42,041 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX episode_uuid IF NOT EXISTS FOR (e:Episodic) ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX episode_uuid FOR (e:Episodic) ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX episode_uuid IF NOT EXISTS FOR (n:Episodic) ON (n.uuid)'
2026-02-02 14:49:42,041 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX saga_group_id IF NOT EXISTS FOR (e:Saga) ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX saga_group_id FOR (e:Saga) ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX saga_group_id IF NOT EXISTS FOR (n:Saga) ON (n.group_id)'
2026-02-02 14:49:42,041 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX has_episode_group_id IF NOT EXISTS FOR ()-[e:HAS_EPISODE]-() ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX has_episode_group_id FOR ()-[e:HAS_EPISODE]-() ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX has_episode_group_id IF NOT EXISTS FOR ()-[e:HAS_EPISODE]-() ON (e.group_id)'
2026-02-02 14:49:42,042 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX relation_uuid IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX relation_uuid FOR ()-[e:RELATES_TO]-() ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX relation_uuid IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.uuid)'
2026-02-02 14:49:42,043 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX saga_uuid IF NOT EXISTS FOR (e:Saga) ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX saga_uuid FOR (e:Saga) ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX saga_uuid IF NOT EXISTS FOR (n:Saga) ON (n.uuid)'
2026-02-02 14:49:42,044 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX mention_group_id IF NOT EXISTS FOR ()-[e:MENTIONS]-() ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX mention_group_id FOR ()-[e:MENTIONS]-() ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX mention_group_id IF NOT EXISTS FOR ()-[e:MENTIONS]-() ON (e.group_id)'
2026-02-02 14:49:42,044 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX saga_name IF NOT EXISTS FOR (e:Saga) ON (e.name)' has no effect. The index or constraint specified by 'RANGE INDEX saga_name FOR (e:Saga) ON (e.name)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX saga_name IF NOT EXISTS FOR (n:Saga) ON (n.name)'
2026-02-02 14:49:42,045 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX next_episode_uuid IF NOT EXISTS FOR ()-[e:NEXT_EPISODE]-() ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX next_episode_uuid FOR ()-[e:NEXT_EPISODE]-() ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX next_episode_uuid IF NOT EXISTS FOR ()-[e:NEXT_EPISODE]-() ON (e.uuid)'
2026-02-02 14:49:42,046 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX next_episode_group_id IF NOT EXISTS FOR ()-[e:NEXT_EPISODE]-() ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX next_episode_group_id FOR ()-[e:NEXT_EPISODE]-() ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX next_episode_group_id IF NOT EXISTS FOR ()-[e:NEXT_EPISODE]-() ON (e.group_id)'
2026-02-02 14:49:42,048 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX mention_uuid IF NOT EXISTS FOR ()-[e:MENTIONS]-() ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX mention_uuid FOR ()-[e:MENTIONS]-() ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX mention_uuid IF NOT EXISTS FOR ()-[e:MENTIONS]-() ON (e.uuid)'
2026-02-02 14:49:42,049 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX episode_group_id IF NOT EXISTS FOR (e:Episodic) ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX episode_group_id FOR (e:Episodic) ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX episode_group_id IF NOT EXISTS FOR (n:Episodic) ON (n.group_id)'
2026-02-02 14:49:42,049 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX entity_group_id IF NOT EXISTS FOR (e:Entity) ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX entity_group_id FOR (e:Entity) ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX entity_group_id IF NOT EXISTS FOR (n:Entity) ON (n.group_id)'
2026-02-02 14:49:42,049 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX community_group_id IF NOT EXISTS FOR (e:Community) ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX community_group_id FOR (e:Community) ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX community_group_id IF NOT EXISTS FOR (n:Community) ON (n.group_id)'
2026-02-02 14:49:42,051 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX community_uuid IF NOT EXISTS FOR (e:Community) ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX community_uuid FOR (e:Community) ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX community_uuid IF NOT EXISTS FOR (n:Community) ON (n.uuid)'
2026-02-02 14:49:42,051 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX relation_group_id IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.group_id)' has no effect. The index or constraint specified by 'RANGE INDEX relation_group_id FOR ()-[e:RELATES_TO]-() ON (e.group_id)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX relation_group_id IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.group_id)'
2026-02-02 14:49:42,052 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX expired_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.expired_at)' has no effect. The index or constraint specified by 'RANGE INDEX expired_at_edge_index FOR ()-[e:RELATES_TO]-() ON (e.expired_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX expired_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.expired_at)'
2026-02-02 14:49:42,053 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX entity_uuid IF NOT EXISTS FOR (e:Entity) ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX entity_uuid FOR (e:Entity) ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX entity_uuid IF NOT EXISTS FOR (n:Entity) ON (n.uuid)'
2026-02-02 14:49:42,053 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX valid_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.valid_at)' has no effect. The index or constraint specified by 'RANGE INDEX valid_at_edge_index FOR ()-[e:RELATES_TO]-() ON (e.valid_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX valid_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.valid_at)'
2026-02-02 14:49:42,053 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX name_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.name)' has no effect. The index or constraint specified by 'RANGE INDEX name_edge_index FOR ()-[e:RELATES_TO]-() ON (e.name)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX name_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.name)'
2026-02-02 14:49:42,053 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE FULLTEXT INDEX episode_content IF NOT EXISTS FOR (e:Episodic) ON EACH [e.content, e.source, e.source_description, e.group_id]' has no effect. The index or constraint specified by 'FULLTEXT INDEX episode_content FOR (e:Episodic) ON EACH [e.content, e.source, e.source_description, e.group_id]' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE FULLTEXT INDEX episode_content IF NOT EXISTS\n        FOR (e:Episodic) ON EACH [e.content, e.source, e.source_description, e.group_id]'
2026-02-02 14:49:42,053 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX invalid_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.invalid_at)' has no effect. The index or constraint specified by 'RANGE INDEX invalid_at_edge_index FOR ()-[e:RELATES_TO]-() ON (e.invalid_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX invalid_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.invalid_at)'
2026-02-02 14:49:42,053 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX valid_at_episodic_index IF NOT EXISTS FOR (e:Episodic) ON (e.valid_at)' has no effect. The index or constraint specified by 'RANGE INDEX valid_at_episodic_index FOR (e:Episodic) ON (e.valid_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX valid_at_episodic_index IF NOT EXISTS FOR (n:Episodic) ON (n.valid_at)'
2026-02-02 14:49:42,054 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX has_member_uuid IF NOT EXISTS FOR ()-[e:HAS_MEMBER]-() ON (e.uuid)' has no effect. The index or constraint specified by 'RANGE INDEX has_member_uuid FOR ()-[e:HAS_MEMBER]-() ON (e.uuid)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX has_member_uuid IF NOT EXISTS FOR ()-[e:HAS_MEMBER]-() ON (e.uuid)'
2026-02-02 14:49:42,054 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX created_at_episodic_index IF NOT EXISTS FOR (e:Episodic) ON (e.created_at)' has no effect. The index or constraint specified by 'RANGE INDEX created_at_episodic_index FOR (e:Episodic) ON (e.created_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX created_at_episodic_index IF NOT EXISTS FOR (n:Episodic) ON (n.created_at)'
2026-02-02 14:49:42,054 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX created_at_entity_index IF NOT EXISTS FOR (e:Entity) ON (e.created_at)' has no effect. The index or constraint specified by 'RANGE INDEX created_at_entity_index FOR (e:Entity) ON (e.created_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX created_at_entity_index IF NOT EXISTS FOR (n:Entity) ON (n.created_at)'
2026-02-02 14:49:42,054 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE RANGE INDEX created_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.created_at)' has no effect. The index or constraint specified by 'RANGE INDEX created_at_edge_index FOR ()-[e:RELATES_TO]-() ON (e.created_at)' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE INDEX created_at_edge_index IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON (e.created_at)'
2026-02-02 14:49:42,054 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE FULLTEXT INDEX node_name_and_summary IF NOT EXISTS FOR (e:Entity) ON EACH [e.name, e.summary, e.group_id]' has no effect. The index or constraint specified by 'FULLTEXT INDEX node_name_and_summary FOR (e:Entity) ON EACH [e.name, e.summary, e.group_id]' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE FULLTEXT INDEX node_name_and_summary IF NOT EXISTS\n        FOR (n:Entity) ON EACH [n.name, n.summary, n.group_id]'
2026-02-02 14:49:42,055 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE FULLTEXT INDEX community_name IF NOT EXISTS FOR (e:Community) ON EACH [e.name, e.group_id]' has no effect. The index or constraint specified by 'FULLTEXT INDEX community_name FOR (e:Community) ON EACH [e.name, e.group_id]' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE FULLTEXT INDEX community_name IF NOT EXISTS\n        FOR (n:Community) ON EACH [n.name, n.group_id]'
2026-02-02 14:49:42,056 - neo4j.notifications - INFO - Received notification from DBMS server: <GqlStatusObject gql_status='00NA0', status_description="note: successful completion - index or constraint already exists. The command 'CREATE FULLTEXT INDEX edge_name_and_fact IF NOT EXISTS FOR ()-[e:RELATES_TO]-() ON EACH [e.name, e.fact, e.group_id]' has no effect. The index or constraint specified by 'FULLTEXT INDEX edge_name_and_fact FOR ()-[e:RELATES_TO]-() ON EACH [e.name, e.fact, e.group_id]' already exists.", position=None, raw_classification='SCHEMA', classification=<NotificationClassification.SCHEMA: 'SCHEMA'>, raw_severity='INFORMATION', severity=<NotificationSeverity.INFORMATION: 'INFORMATION'>, diagnostic_record={'_classification': 'SCHEMA', '_severity': 'INFORMATION', 'OPERATION': '', 'OPERATION_CODE': '0', 'CURRENT_SCHEMA': '/'}> for query: 'CREATE FULLTEXT INDEX edge_name_and_fact IF NOT EXISTS\n        FOR ()-[e:RELATES_TO]-() ON EACH [e.name, e.fact, e.group_id]'
Traceback (most recent call last):
  File "/Users/chenyx/private/hackthon/ASD_Agent/src/api/profile.py", line 114, in import_profile_from_image
    name=child_data.get("name", "待完善"),
         ^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
[GraphStorage] 已连接到 Neo4j: bolt://localhost:7688
[IndexManager] 创建唯一约束...
  ✓ (p:Person)
  ✓ (b:Behavior)
  ✓ (o:Object)
  ✓ (i:InterestDimension)
  ✓ (f:FunctionDimension)
  ✓ (g:FloorTimeGame)
  ✓ (a:ChildAssessment)

[IndexManager] 创建索引...
  ✓ (p:Person)
  ✓ (b:Behavior)
  ✓ (b:Behavior)
  ✓ (b:Behavior)
  ✓ (b:Behavior)
  ✓ (o:Object)
  ✓ (i:InterestDimension)
  ✓ (f:FunctionDimension)
  ✓ (f:FunctionDimension)
  ✓ (g:FloorTimeGame)
  ✓ (g:FloorTimeGame)
  ✓ (a:ChildAssessment)
  ✓ (a:ChildAssessment)

[IndexManager] 所有约束和索引创建完成
[GraphStorage] 固定节点初始化完成
[档案导入] 图片已上传: /Users/chenyx/private/hackthon/ASD_Agent/uploads/documents/20260202_144923_10e22849.png
[档案导入] 开始提取文字...
[档案导入] 文字提取完成
提取文字: 姓名：王小明 性别：男 年龄：3岁6个月
检查日期：2026-01-15
临床表现：言语发育迟缓，社交意向弱，存在刻板行为（转圈、对齐玩具）。
评估工具：CARS评分为34分，ABC量表总分72分。
诊断建议：疑似孤独症谱系障碍（ASD），建议进行针对性康复训练。...
画像总结: 小明是一个3岁半的小男孩，目前处于ASD疑似诊断状态。他表现出明显的社交沟通障碍和兴趣狭隘。他喜欢把玩具车排成整齐的一排，对叫他名字反应较慢。目前言语表达以单音节为主。建议重点关注共同注意（Share...
[档案导入] 调用 Memory 服务解析医学报告...
[档案导入] 创建系统档案...
[档案导入] 失败: 'NoneType' object has no attribute 'get'
INFO:     127.0.0.1:58660 - "POST /api/profile/import/image HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:58660 - "GET /api/profile/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:59136 - "GET /api/profile/ HTTP/1.1" 200 OK
2026-02-02 14:49:46,329 - watchfiles.main - INFO - 4 changes detected
2026-02-02 14:49:50,153 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:49:50,503 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
Traceback (most recent call last):
  File "/Users/chenyx/private/hackthon/ASD_Agent/src/api/profile.py", line 114, in import_profile_from_image
    name=child_data.get("name", "待完善"),
         ^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
[档案导入] 图片已上传: /Users/chenyx/private/hackthon/ASD_Agent/uploads/documents/20260202_144950_62227a77.png
[档案导入] 开始提取文字...
[档案导入] 文字提取完成
提取文字: 姓名：王小明 性别：男 年龄：3岁6个月
检查日期：2026-01-15
临床表现：言语发育迟缓，社交意向弱，存在刻板行为（转圈、对齐玩具）。
评估工具：CARS评分为34分，ABC量表总分72分。
诊断建议：疑似孤独症谱系障碍（ASD），建议进行针对性康复训练。...
画像总结: 小明是一个3岁半的小男孩，目前处于ASD疑似诊断状态。他表现出明显的社交沟通障碍和兴趣狭隘。他喜欢把玩具车排成整齐的一排，对叫他名字反应较慢。目前言语表达以单音节为主。建议重点关注共同注意（Share...
[档案导入] 调用 Memory 服务解析医学报告...
[档案导入] 创建系统档案...
[档案导入] 失败: 'NoneType' object has no attribute 'get'
INFO:     127.0.0.1:59209 - "POST /api/profile/import/image HTTP/1.1" 500 Internal Server Error
2026-02-02 14:50:38,309 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:50:39,584 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:52:27,299 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:52:28,410 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:53:39,610 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:53:40,768 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:55:28,475 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:55:29,528 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:56:40,821 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:56:42,088 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:58:29,639 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:58:30,808 - watchfiles.main - INFO - 3 changes detected
2026-02-02 14:59:42,124 - watchfiles.main - INFO - 1 change detected
2026-02-02 14:59:43,243 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:01:30,825 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:01:32,411 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:02:43,302 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:02:45,439 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:04:32,417 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:04:33,582 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:05:45,475 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:05:46,909 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:06:25,369 - watchfiles.main - INFO - 2 changes detected
2026-02-02 15:07:33,632 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:07:35,168 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:08:28,470 - watchfiles.main - INFO - 213 changes detected
2026-02-02 15:09:33,626 - watchfiles.main - INFO - 8 changes detected
2026-02-02 15:09:34,793 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:10:35,195 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:10:36,472 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:12:34,853 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:12:36,608 - watchfiles.main - INFO - 11 changes detected
2026-02-02 15:13:36,562 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:13:39,353 - watchfiles.main - INFO - 3 changes detected
INFO:     127.0.0.1:52404 - "GET /api/profile/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52406 - "GET /api/profile/ HTTP/1.1" 200 OK
2026-02-02 15:13:54,309 - watchfiles.main - INFO - 4 changes detected
2026-02-02 15:14:05,236 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:14:05,470 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-02 15:15:36,677 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:15:37,799 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:16:39,374 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:16:40,551 - watchfiles.main - INFO - 3 changes detected
2026-02-02 15:18:37,871 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:18:39,473 - watchfiles.main - INFO - 39 changes detected
2026-02-02 15:19:40,564 - watchfiles.main - INFO - 1 change detected
2026-02-02 15:19:41,723 - watchfiles.main - INFO - 3 changes detected
